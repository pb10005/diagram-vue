(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["diagram"]=e(require("vue")):t["diagram"]=e(t["Vue"])})("undefined"!==typeof self?self:this,function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"0802":function(t,e,n){"use strict";var i=n("4351"),o=n.n(i);o.a},"0a01":function(t,e,n){"use strict";var i=n("151d"),o=n.n(i);o.a},"0a49":function(t,e,n){var i=n("9b43"),o=n("626a"),r=n("4bf8"),s=n("9def"),a=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d,h=e||a;return function(e,a,p){for(var v,m,g=r(e),k=o(g),b=i(a,p,3),y=s(k.length),x=0,w=n?h(e,y):c?h(e,0):void 0;y>x;x++)if((f||x in k)&&(v=k[x],m=b(v,x,g),t))if(n)w[x]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:w.push(v)}else if(u)return!1;return d?-1:l||u?u:w}}},"0bfb":function(t,e,n){"use strict";var i=n("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var i=n("ce10"),o=n("e11e");t.exports=Object.keys||function(t){return i(t,o)}},1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"11e9":function(t,e,n){var i=n("52a7"),o=n("4630"),r=n("6821"),s=n("6a99"),a=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=r(t),e=s(e,!0),c)try{return l(t,e)}catch(n){}if(a(t,e))return o(!i.f.call(t,e),t[e])}},1495:function(t,e,n){var i=n("86cc"),o=n("cb7c"),r=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){o(t);var n,s=r(e),a=s.length,c=0;while(a>c)i.f(t,n=s[c++],e[n]);return t}},"151d":function(t,e,n){},"167f":function(t,e,n){"use strict";var i=n("ac0b"),o=n.n(i);o.a},"1ad2":function(t,e,n){},"20a9":function(t,e,n){},"230e":function(t,e,n){var i=n("d3f4"),o=n("7726").document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"2a3c":function(t,e,n){"use strict";var i=n("53ee"),o=n.n(i);o.a},"2aba":function(t,e,n){var i=n("7726"),o=n("32e9"),r=n("69a8"),s=n("ca5a")("src"),a="toString",c=Function[a],l=(""+c).split(a);n("8378").inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(r(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(r(n,s)||o(n,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||c.call(this)})},"2aeb":function(t,e,n){var i=n("cb7c"),o=n("1495"),r=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},c="prototype",l=function(){var t,e=n("230e")("iframe"),i=r.length,o="<",s=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),l=t.F;while(i--)delete l[c][r[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=i(t),n=new a,a[c]=null,n[s]=t):n=l(),void 0===e?n:o(n,e)}},"2b4c":function(t,e,n){var i=n("5537")("wks"),o=n("ca5a"),r=n("7726").Symbol,s="function"==typeof r,a=t.exports=function(t){return i[t]||(i[t]=s&&r[t]||(s?r:o)("Symbol."+t))};a.store=i},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"32e9":function(t,e,n){var i=n("86cc"),o=n("4630");t.exports=n("9e1e")?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"37cc":function(t,e,n){"use strict";var i=n("8541"),o=n.n(i);o.a},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"386b":function(t,e,n){var i=n("5ca1"),o=n("79e5"),r=n("be13"),s=/"/g,a=function(t,e,n,i){var o=String(r(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+o+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),i(i.P+i.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},"3c7d":function(t,e,n){},4351:function(t,e,n){},4588:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4bf8":function(t,e,n){var i=n("be13");t.exports=function(t){return Object(i(t))}},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53ee":function(t,e,n){},5537:function(t,e,n){var i=n("8378"),o=n("7726"),r="__core-js_shared__",s=o[r]||(o[r]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},5830:function(t,e,n){},"5ca1":function(t,e,n){var i=n("7726"),o=n("8378"),r=n("32e9"),s=n("2aba"),a=n("9b43"),c="prototype",l=function(t,e,n){var u,d,f,h,p=t&l.F,v=t&l.G,m=t&l.S,g=t&l.P,k=t&l.B,b=v?i:m?i[e]||(i[e]={}):(i[e]||{})[c],y=v?o:o[e]||(o[e]={}),x=y[c]||(y[c]={});for(u in v&&(n=e),n)d=!p&&b&&void 0!==b[u],f=(d?b:n)[u],h=k&&d?a(f,i):g&&"function"==typeof f?a(Function.call,f):f,b&&s(b,u,f,t&l.U),y[u]!=f&&r(y,u,h),g&&x[u]!=f&&(x[u]=f)};i.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5dbc":function(t,e,n){var i=n("d3f4"),o=n("8b97").set;t.exports=function(t,e,n){var r,s=e.constructor;return s!==n&&"function"==typeof s&&(r=s.prototype)!==n.prototype&&i(r)&&o&&o(t,r),t}},"613b":function(t,e,n){var i=n("5537")("keys"),o=n("ca5a");t.exports=function(t){return i[t]||(i[t]=o(t))}},"626a":function(t,e,n){var i=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},6821:function(t,e,n){var i=n("626a"),o=n("be13");t.exports=function(t){return i(o(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var i=n("d3f4");t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"6b54":function(t,e,n){"use strict";n("3846");var i=n("cb7c"),o=n("0bfb"),r=n("9e1e"),s="toString",a=/./[s],c=function(t){n("2aba")(RegExp.prototype,s,t,!0)};n("79e5")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?c(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?o.call(t):void 0)}):a.name!=s&&c(function(){return a.call(this)})},7333:function(t,e,n){"use strict";var i=n("0d58"),o=n("2621"),r=n("52a7"),s=n("4bf8"),a=n("626a"),c=Object.assign;t.exports=!c||n("79e5")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i})?function(t,e){var n=s(t),c=arguments.length,l=1,u=o.f,d=r.f;while(c>l){var f,h=a(arguments[l++]),p=u?i(h).concat(u(h)):i(h),v=p.length,m=0;while(v>m)d.call(h,f=p[m++])&&(n[f]=h[f])}return n}:c},7514:function(t,e,n){"use strict";var i=n("5ca1"),o=n("0a49")(5),r="find",s=!0;r in[]&&Array(1)[r](function(){s=!1}),i(i.P+i.F*s,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(r)},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var i=n("4588"),o=Math.max,r=Math.min;t.exports=function(t,e){return t=i(t),t<0?o(t+e,0):r(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7be9":function(t,e,n){"use strict";var i=n("3c7d"),o=n.n(i);o.a},"7f2f":function(t,e,n){},"7f7f":function(t,e,n){var i=n("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,s="name";s in o||n("9e1e")&&i(o,s,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"7fda":function(t,e,n){"use strict";var i=n("ac0d"),o=n.n(i);o.a},8378:function(t,e){var n=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},8541:function(t,e,n){},"86cc":function(t,e,n){var i=n("cb7c"),o=n("c69a"),r=n("6a99"),s=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"8b97":function(t,e,n){var i=n("d3f4"),o=n("cb7c"),r=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:r}},"8bbf":function(e,n){e.exports=t},9093:function(t,e,n){var i=n("ce10"),o=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},"9b43":function(t,e,n){var i=n("d8e8");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var i=n("2b4c")("unscopables"),o=Array.prototype;void 0==o[i]&&n("32e9")(o,i,{}),t.exports=function(t){o[i][t]=!0}},"9def":function(t,e,n){var i=n("4588"),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a12f:function(t,e,n){"use strict";var i=n("1ad2"),o=n.n(i);o.a},a40f:function(t,e,n){"use strict";var i=n("5830"),o=n.n(i);o.a},aa77:function(t,e,n){var i=n("5ca1"),o=n("be13"),r=n("79e5"),s=n("fdef"),a="["+s+"]",c="​",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),d=function(t,e,n){var o={},a=r(function(){return!!s[t]()||c[t]()!=c}),l=o[t]=a?e(f):s[t];n&&(o[n]=l),i(i.P+i.F*a,"String",o)},f=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},ac0b:function(t,e,n){},ac0d:function(t,e,n){},b05d:function(t,e,n){},b54a:function(t,e,n){"use strict";n("386b")("link",function(t){return function(e){return t(this,"a","href",e)}})},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var i=n("6821"),o=n("9def"),r=n("77f1");t.exports=function(t){return function(e,n,s){var a,c=i(e),l=o(c.length),u=r(s,l);if(t&&n!=n){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},c3c4:function(t,e,n){"use strict";var i=n("20a9"),o=n.n(i);o.a},c4a2:function(t,e,n){},c5f6:function(t,e,n){"use strict";var i=n("7726"),o=n("69a8"),r=n("2d95"),s=n("5dbc"),a=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,d=n("86cc").f,f=n("aa77").trim,h="Number",p=i[h],v=p,m=p.prototype,g=r(n("2aeb")(m))==h,k="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=k?e.trim():f(e,3);var n,i,o,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>o)return NaN;return parseInt(c,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?c(function(){m.valueOf.call(n)}):r(n)!=h)?s(new v(b(e)),n,p):b(e)};for(var y,x=n("9e1e")?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)o(v,y=x[w])&&!o(p,y)&&d(p,y,u(v,y));p.prototype=m,m.constructor=p,n("2aba")(i,h,p)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},ca5a:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},caec:function(t,e,n){"use strict";var i=n("c4a2"),o=n.n(i);o.a},cb7c:function(t,e,n){var i=n("d3f4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},cd1c:function(t,e,n){var i=n("e853");t.exports=function(t,e){return new(i(t))(e)}},ce10:function(t,e,n){var i=n("69a8"),o=n("6821"),r=n("c366")(!1),s=n("613b")("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,l=[];for(n in a)n!=s&&i(a,n)&&l.push(n);while(e.length>c)i(a,n=e[c++])&&(~r(l,n)||l.push(n));return l}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},de51:function(t,e,n){"use strict";var i=n("7f2f"),o=n.n(i);o.a},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e33f:function(t,e,n){"use strict";var i=n("b05d"),o=n.n(i);o.a},e853:function(t,e,n){var i=n("d3f4"),o=n("1169"),r=n("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),i(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},f751:function(t,e,n){var i=n("5ca1");i(i.S+i.F,"Object",{assign:n("7333")})},fab2:function(t,e,n){var i=n("7726").document;t.exports=i&&i.documentElement},fb15:function(t,e,n){"use strict";n.r(e);var i,o={};(n.r(o),n.d(o,"VButton",function(){return ft}),n.d(o,"VCkbox",function(){return kt}),n.d(o,"VInput",function(){return Nt}),n.d(o,"VMessage",function(){return Ct}),n.d(o,"VModal",function(){return Pt}),n.d(o,"VSelect",function(){return Gt}),"undefined"!==typeof window)&&((i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=i[1]));var r=n("8bbf"),s=n.n(r),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"field",staticClass:"scrollXY",attrs:{id:"svg-diagram-show-area"}},[n("svg",{attrs:{width:t.fluid?"100%":t.width,height:t.fluid?"100%":t.height,viewBox:t.viewBoxDiagram,xmlns:"http://www.w3.org/2000/svg"}},[n("defs",[n("pattern",{attrs:{id:"smallGrid",width:"10",height:"10",patternUnits:"userSpaceOnUse"}},[n("path",{attrs:{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"gray","stroke-width":"0.5"}})]),n("pattern",{attrs:{id:"grid",width:"100",height:"100",patternUnits:"userSpaceOnUse"}},[n("rect",{attrs:{width:"100",height:"100",fill:"url(#smallGrid)"}}),n("path",{attrs:{d:"M 100 0 L 0 0 0 100",fill:"none",stroke:"gray","stroke-width":"1"}})])]),n("g",{attrs:{transform:t.scaleStr}},[n("rect",{attrs:{x:"0",y:"0",width:t.width,height:t.height,fill:t.background||"url(#smallGrid)"},on:{click:t.reset}}),t._l(t.nodeList,function(e){return n("Node",{key:e.id,attrs:{node:e,selected:e.id===t.selectedNode,createLinkMode:t.createLinkMode,editable:t.editable,labels:t.labels,rWidth:t.rect().rWidth,rHeight:t.rect().rHeight,scale:t.scale},on:{editNode:t.editNode,select:t.selectNode,copy:t.copyNode,updateLocation:t.updateNodeLocation,toggleSelect:t.toggleSrcSelect,commitDest:t.commitDest,remove:t.removeNode}})}),t._l(t.linkList,function(e){return n("Link",{key:e.id,attrs:{link:e,selected:e.id===t.selectedLink,source:t.findNode(e.source),destination:t.findNode(e.destination),editable:t.editable,labels:t.labels,rWidth:t.rect().rWidth,rHeight:t.rect().rHeight,scale:t.scale},on:{editLink:t.editLink,select:t.selectLink,updateLocation:t.updateLinkLocation,remove:t.removeLink}})})],2)])])},c=[],l=(n("7514"),n("7f7f"),n("6b54"),n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[t.editable?n("g",[t.selected?n("text",{staticClass:"button",attrs:{x:t.x+5,y:t.y+t.node.height+22,fill:"#00b894"},on:{click:t.editCandidate}},[t._v("\n      "+t._s(t.labels.edit||"Edit")+"\n    ")]):t._e(),t.selected?n("text",{staticClass:"button",attrs:{x:t.x+5,y:t.y-10,fill:"#00b894",stroke:"none"},on:{click:t.toggleSelect}},[t._v("\n      "+t._s(t.createLinkMode?t.labels.cancel||"Cancel":t.labels.link||"Link")+"\n    ")]):t._e(),t.selected?n("text",{staticClass:"button",attrs:{x:t.x+100,y:t.y-10,fill:"orange"},on:{click:t.copy}},[t._v("\n      "+t._s(t.labels.copy||"Copy")+"\n    ")]):t._e(),t.selected?n("text",{staticClass:"button",attrs:{x:t.x+65,y:t.y+t.node.height+22,fill:"#ff7675"},on:{click:t.remove}},[t._v("\n      "+t._s(t.labels.remove||"Remove")+"\n    ")]):t._e(),t.createLinkMode&&!t.selected?n("text",{staticClass:"button",attrs:{x:t.x+5,y:t.y-10,fill:"#ff7675"},on:{click:t.commitDest}},[t._v("\n      "+t._s(t.labels.select||"Select")+"\n    ")]):t._e()]):t._e(),"ellipse"===t.node.shape?n("ellipse",{staticClass:"grab",attrs:{cx:t.x+t.node.width/2,cy:t.y+t.node.height/2,width:t.node.width,height:t.node.height,rx:t.node.width/2,ry:t.node.height/2,fill:t.content.color||"#ecf0f1","stroke-width":t.node.strokeWeight,stroke:t.node.stroke},on:{touchstart:t.mousedown,mousedown:t.mousedown,mousemove:t.mousemove,touchmove:t.mousemove,mouseup:t.mouseup,touchend:t.mouseup}}):n("rect",{staticClass:"grab",attrs:{x:t.x,y:t.y,width:t.node.width,height:t.node.height,rx:"5",ry:"3",fill:t.content.color||"#ecf0f1","stroke-width":t.node.strokeWeight,stroke:t.node.stroke},on:{touchstart:t.mousedown,mousedown:t.mousedown,mousemove:t.mousemove,touchmove:t.mousemove,mouseup:t.mouseup,touchend:t.mouseup}}),n("a",{attrs:{target:"_blank",href:t.content.url}},[n("text",{attrs:{x:t.x+t.node.width/2,y:t.y+t.node.height/2,fill:"#34495e","font-family":"Meiryo UI, sans-serif","font-size":"20","text-anchor":"middle"}},[t._v("\n      "+t._s(t.content.text)+"\n    ")])])])}),u=[];function d(t){if(Array.isArray(t))return t}function f(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done);i=!0)if(n.push(s.value),e&&n.length===e)break}catch(c){o=!0,r=c}finally{try{i||null==a["return"]||a["return"]()}finally{if(o)throw r}}return n}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function p(t,e){return d(t)||f(t,e)||h()}var v={methods:{getLocation:function(t){var e=0,n=0;return t.touches?(e=t.touches[0].pageX,n=t.touches[0].pageY):(e=t.pageX,n=t.pageY),[e,n]}}},m={mixins:[v],props:{node:{width:Number,height:Number,id:String,point:{type:Object,default:{x:0,y:0}},content:{text:String,url:String,color:String},shape:{type:String,default:"rectangle"},stroke:String,strokeWeight:Number},editable:Boolean,createLinkMode:Boolean,selected:Boolean,labels:Object,scale:String,rWidth:Number,rHeight:Number},watch:{node:function(){this.x=this.node.point.x,this.y=this.node.point.y}},data:function(){return{startPosition:null,cursorOffset:{x:0,y:0},id:this.node.id,x:this.node.point.x,y:this.node.point.y,content:this.node.content}},methods:{toggleSelect:function(){this.$emit("toggleSelect")},commitDest:function(){this.$emit("commitDest",this.id)},remove:function(){this.$emit("remove",this.id)},copy:function(){this.$emit("copy",this.node)},mousedown:function(t){if(this.editable){this.$emit("select",this.id);var e=this.getLocation(t),n=p(e,2),i=n[0],o=n[1];this.cursorOffset.x=i,this.cursorOffset.y=o,this.startPosition={x:this.x,y:this.y},document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup)}},mousemove:function(t){if(this.startPosition){t.preventDefault();var e=this.getLocation(t),n=p(e,2),i=n[0],o=n[1];this.x=this.startPosition.x+(i-this.cursorOffset.x)/this.rWidth/parseFloat(this.scale),this.y=this.startPosition.y+(o-this.cursorOffset.y)/this.rHeight/parseFloat(this.scale),this.$emit("updateLocation",{id:this.id,x:this.x,y:this.y})}},mouseup:function(){this.startPosition=null,document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup)},editCandidate:function(){this.$emit("editNode",{id:this.id,shape:this.node.shape,width:this.node.width,height:this.node.height,content:this.content,stroke:this.node.stroke,strokeWeight:this.node.strokeWeight})}}},g=m;n("37cc");function k(t,e,n,i,o,r,s,a){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):o&&(c=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}var b=k(g,l,u,!1,null,"0b61de52",null);b.options.__file="Node.vue";var y=b.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("path",{attrs:{d:"M"+t.calcSource().x+" "+t.calcSource().y+"\n      Q "+t.point.x+" "+t.point.y+"\n      "+t.calcDestination().x+" "+t.calcDestination().y,stroke:t.link.color||"#ffeaa7","stroke-width":"3",fill:"none","stroke-dasharray":t.definePattern(t.link.pattern),"marker-start":"src"===t.link.arrow||"both"===t.link.arrow?"url(#"+t.link.id+")":"","marker-end":"dest"===t.link.arrow||"both"===t.link.arrow?"url(#"+t.link.id+")":""}}),n("marker",{attrs:{id:t.link.id,markerUnits:"userSpaceOnUse",orient:"auto-start-reverse",markerWidth:"15",markerHeight:"15",viewBox:"0 0 10 10",refX:"5",refY:"5"}},[n("polygon",{attrs:{points:"0,1.5 0,8.5 10,5 ",fill:t.link.color||"#ffeaa7"}})]),t.editable?n("g",[n("line",{attrs:{x1:t.calcSource().x,y1:t.calcSource().y,x2:t.point.x,y2:t.point.y,stroke:"lightgray"}}),n("line",{attrs:{x1:t.point.x,y1:t.point.y,x2:t.calcDestination().x,y2:t.calcDestination().y,stroke:"lightgray"}}),n("ellipse",{staticClass:"grab",attrs:{id:t.id,cx:t.point.x,cy:t.point.y,rx:"10",ry:"10",fill:"#ff7675","stroke-width":"2"},on:{click:t.select,mousedown:t.mousedown,touchstart:t.mousedown,mousemove:t.mousemove,touchmove:t.mousemove,mouseup:t.mouseup,touchend:t.mouseup}})]):t._e(),n("g",[t.selected?n("text",{staticClass:"button",attrs:{x:t.point.x-15,y:t.point.y-20,fill:"#00b894"},on:{click:t.edit}},[t._v("\n      "+t._s(t.labels.edit||"Edit")+"\n    ")]):t._e(),t.selected?n("text",{staticClass:"button",attrs:{x:t.point.x-15,y:t.point.y+30,fill:"#ff7675"},on:{click:t.remove}},[t._v("\n      "+t._s(t.labels.remove||"Remove")+"\n    ")]):t._e()])])},w=[],_=(n("b54a"),{mixins:[v],props:{selected:Boolean,editable:Boolean,source:{id:Number,x:Number,y:Number},destination:{id:Number,x:Number,y:Number},link:{id:String,color:{type:String,default:"#ffeaa7"},pattern:{type:String,default:"solid"},arrow:{type:String,default:"none"},point:{x:Number,y:Number}},labels:Object,scale:String,rWidth:Number,rHeight:Number},computed:{},data:function(){return{startPosition:null,cursorOffset:{x:0,y:0},id:this.link.id,point:this.link.point}},methods:{mousedown:function(t){var e=this.getLocation(t),n=p(e,2),i=n[0],o=n[1];this.cursorOffset.x=i,this.cursorOffset.y=o,this.startPosition={x:this.point.x,y:this.point.y},document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup)},mousemove:function(t){if(this.startPosition){t.preventDefault();var e=this.getLocation(t),n=p(e,2),i=n[0],o=n[1];this.point.x=this.startPosition.x+(i-this.cursorOffset.x)/this.rWidth/parseFloat(this.scale),this.point.y=this.startPosition.y+(o-this.cursorOffset.y)/this.rHeight/parseFloat(this.scale),this.$emit("updateLocation",{id:this.id,x:this.point.x,y:this.point.y})}},definePattern:function(t){return"solid"===t?0:"dash"===t?10:"dot"===t?3:0},mouseup:function(){this.startPosition=null,document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup)},remove:function(){this.$emit("remove",this.id)},select:function(){this.$emit("select",this.id)},edit:function(){this.$emit("editLink",{id:this.link.id,content:{color:this.link.color||"#ffeaa7",pattern:this.link.pattern||"solid",arrow:this.link.arrow||"none"}})},calcSource:function(){var t=this.point.x-this.source.point.x-this.source.width/2,e=this.point.y-this.source.point.y-this.source.height/2;return 0===t&&(t=.01),Math.abs(e/t)<=1?t>=0?{x:this.source.point.x+this.source.width,y:this.source.point.y+this.source.height/2}:{x:this.source.point.x,y:this.source.point.y+this.source.height/2}:e>=0?{x:this.source.point.x+this.source.width/2,y:this.source.point.y+this.source.height}:{x:this.source.point.x+this.source.width/2,y:this.source.point.y}},calcDestination:function(){var t=this.point.x-this.destination.point.x-this.destination.width/2,e=this.point.y-this.destination.point.y-this.destination.height/2;return 0===t&&(t=.01),Math.abs(e/t)<=1?t>=0?{x:this.destination.point.x+this.destination.width,y:this.destination.point.y+this.destination.height/2}:{x:this.destination.point.x,y:this.destination.point.y+this.destination.height/2}:e>=0?{x:this.destination.point.x+this.destination.width/2,y:this.destination.point.y+this.destination.height}:{x:this.destination.point.x+this.destination.width/2,y:this.destination.point.y}}}}),N=_,L=(n("de51"),k(N,x,w,!1,null,"12924600",null));L.options.__file="Link.vue";var S=L.exports,M={name:"Diagram",props:{width:Number,height:Number,scale:{type:String,default:"1"},background:String,nodes:Array,links:Array,editable:Boolean,labels:Object,fluid:{type:Boolean,default:!1}},components:{Node:y,Link:S},computed:{viewBoxDiagram:function(){return this.fluid?"0 0 ".concat(this.width/this.scale," ").concat(this.height/this.scale):"0 0 ".concat(this.width," ").concat(this.height)},scaleStr:function(){return"scale("+(this.fluid?1:this.scale||1)+")translate(0,0)"},nodeList:{get:function(){return this.nodes},set:function(t){this.$emit("nodeChanged",{nodes:t})}},linkList:{get:function(){return this.links},set:function(t){this.$emit("linkChanged",{links:t})}}},data:function(){return{name:"",url:"",color:"",selectedNode:-1,selectedLink:-1,createLinkMode:!1}},methods:{editNode:function(t){this.$emit("editNode",t)},editLink:function(t){this.$emit("editLink",t)},generateID:function(){return(new Date).getTime().toString(16)+Math.floor(1e6*Math.random()).toString(16)},addNode:function(){this.editable&&this.nodeList.push({id:this.generateID(),content:{text:this.name,color:this.color,url:this.url},width:200,height:60,point:{x:10,y:100+100*Math.random()}})},reset:function(){this.createLinkMode||(this.selectedNode=-1,this.selectedLink=-1)},updateLinkLocation:function(t){var e=this.linkList.find(function(e){return e.id===t.id});e.point.x=t.x,e.point.y=t.y},findNode:function(t){return this.nodes.find(function(e){return e.id===t})},removeLink:function(t){this.linkList=this.linkList.filter(function(e){return e.id!==t})},rect:function(){var t=this.$refs.field.getBoundingClientRect();return{rWidth:this.fluid?t.width/this.width:1,rHeight:this.fluid?t.height/this.height:1}},updateNodeLocation:function(t){var e=this.nodeList.find(function(e){return e.id===t.id});e.point.x=t.x,e.point.y=t.y},selectNode:function(t){this.selectedNode=t},selectLink:function(t){this.selectedLink=t},toggleSrcSelect:function(){this.createLinkMode=!this.createLinkMode},commitDest:function(t){var e=this,n=this.nodeList.find(function(t){return t.id===e.selectedNode}),i=this.nodeList.find(function(e){return e.id===t});this.linkList.push({id:this.generateID(),source:this.selectedNode,destination:t,point:{x:.5*(n.point.x+i.point.x),y:.5*(n.point.y+i.point.y)}}),this.createLinkMode=!1,this.selectedNode=-1},removeNode:function(t){var e=this.nodeList.filter(function(e){return e.id!==t});this.nodeList=e;var n=this.linkList.filter(function(e){return e.source!==t&&e.destination!==t});this.linkList=n,this.createLinkMode=!1},copyNode:function(t){this.editable&&this.nodeList.push({id:this.generateID(),content:{text:t.content.text,color:t.content.color,url:t.content.url},width:t.width,height:t.height,point:{x:t.point.x+30,y:t.point.y+30},shape:t.shape})}}},E=M,A=(n("0a01"),k(E,a,c,!1,null,null,null));A.options.__file="Diagram.vue";var C=A.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"editor"}},[t.editable?n("span",[n("VButton",{on:{click:t.openModal}},[t._v("New Node")]),n("VButton",{on:{click:t.endEdit}},[t._v("End")])],1):n("VButton",{on:{click:function(e){t.editable=!0}}},[t._v("Edit")]),n("VButton",{on:{click:t.openInputModal}},[t._v("Import/Export")]),n("VButton",{on:{click:t.downloadSVG}},[t._v("Download SVG")]),n("VButton",{on:{click:function(e){t.isAskClearDiagram=!0}}},[t._v("Clear Diagram")]),n("VSelect",{model:{value:t.scale,callback:function(e){t.scale=e},expression:"scale"}},[n("option",{attrs:{value:"0.5"}},[t._v("Small")]),n("option",{attrs:{value:"1",selected:""}},[t._v("Medium")]),n("option",{attrs:{value:"2"}},[t._v("Large")])]),n("VCkbox",{model:{value:t.isFluid,callback:function(e){t.isFluid=e},expression:"isFluid"}},[t._v(" Toggle fluid ")]),n("VCkbox",{on:{changed:t.changeGrid},model:{value:t.showGrid,callback:function(e){t.showGrid=e},expression:"showGrid"}},[t._v(" Show grid ")]),n("AskModal",{attrs:{isActive:t.isAskClearDiagram},on:{ok:t.clearDiagram,cancel:t.cancel}},[t._v("\n    Do you wanna clear the Diagram?\n  ")]),n("EditNodeModal",{attrs:{node:{content:{}},isActive:t.isModalActive},on:{ok:t.addNode,cancel:t.cancel}}),n("EditNodeModal",{attrs:{node:t.tmpNode,isActive:t.isEditModalActive},on:{ok:t.editNode,cancel:t.cancel}}),n("EditLinkModal",{attrs:{link:t.tmpLink,isActive:t.isEditLinkModalActive},on:{ok:t.editLink,cancel:t.cancel}}),n("InputModal",{attrs:{text:t.json,isActive:t.isInputModalActive},on:{ok:t.importData,cancel:t.cancel}}),n("Diagram",{attrs:{width:t.graphData.width||2e3,height:t.graphData.height||1e3,fluid:t.isFluid,scale:t.scale,background:t.graphData.background||"#fafafa",nodes:t.graphData.nodes,links:t.graphData.links,editable:t.editable,labels:t.graphData.labels||{edit:"Edit",remove:"Remove",link:"New Link",select:"Select",cancel:"Cancel",copy:"Copy"}},on:{editNode:t.openNodeEdit,editLink:t.openLinkEdit,nodeChanged:t.nodeChanged,linkChanged:t.linkChanged}})],1)},I=[],D=(n("f751"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VModal",{attrs:{isActive:t.isActive},on:{clickModal:t.cancel}},[n("transition",{attrs:{name:"item"}},[t.isActive?n("div",{staticClass:"form"},[n("VInput",{attrs:{placeholder:"name"},model:{value:t.newNode.content.text,callback:function(e){t.$set(t.newNode.content,"text",e)},expression:"newNode.content.text"}}),n("br"),n("VInput",{attrs:{placeholder:"url"},model:{value:t.newNode.content.url,callback:function(e){t.$set(t.newNode.content,"url",e)},expression:"newNode.content.url"}}),n("br"),n("VInput",{attrs:{placeholder:"color"},model:{value:t.newNode.content.color,callback:function(e){t.$set(t.newNode.content,"color",e)},expression:"newNode.content.color"}}),n("br"),n("VInput",{attrs:{type:"number",placeholder:"width"},model:{value:t.newNode.width,callback:function(e){t.$set(t.newNode,"width",e)},expression:"newNode.width"}}),n("br"),n("VInput",{attrs:{type:"number",placeholder:"height"},model:{value:t.newNode.height,callback:function(e){t.$set(t.newNode,"height",e)},expression:"newNode.height"}}),n("br"),n("VInput",{attrs:{type:"text",placeholder:"stroke"},model:{value:t.newNode.stroke,callback:function(e){t.$set(t.newNode,"stroke",e)},expression:"newNode.stroke"}}),n("br"),n("VInput",{attrs:{type:"number",placeholder:"stroke weight"},model:{value:t.newNode.strokeWeight,callback:function(e){t.$set(t.newNode,"strokeWeight",e)},expression:"newNode.strokeWeight"}}),n("br"),n("VSelect",{attrs:{placeholder:"Select shape"},model:{value:t.newNode.shape,callback:function(e){t.$set(t.newNode,"shape",e)},expression:"newNode.shape"}},[n("option",{attrs:{value:"rectangle",selected:""}},[t._v("Rectangle")]),n("option",{attrs:{value:"ellipse"}},[t._v("Ellipse")])]),n("br"),n("VButton",{on:{click:t.ok}},[t._v("OK")]),n("VButton",{staticClass:"danger",on:{click:t.cancel}},[t._v("Cancel")])],1):t._e()])],1)}),V=[],j={props:{isActive:Boolean,node:{type:Object,default:function(){return{id:"",shape:"rectangle",width:150,height:60,stroke:"",strokeWeight:0,content:{text:"none",url:"",color:"#ecf0f1"}}}}},watch:{node:function(){this.newWidth=parseInt(this.node.width),this.newHeight=parseInt(this.node.Height)}},data:function(){return{newNode:this.node}},methods:{ok:function(){this.$emit("ok",this.newNode)},cancel:function(){this.$emit("cancel")}}},P=j,B=(n("c3c4"),k(P,D,V,!1,null,"02b3537e",null));B.options.__file="EditNodeModal.vue";var F=B.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VModal",{attrs:{isActive:t.isActive},on:{clickModal:t.cancel}},[n("transition",{attrs:{name:"item"}},[t.isActive?n("div",{staticClass:"form"},[n("VInput",{attrs:{placeholder:"color"},model:{value:t.newLink.color,callback:function(e){t.$set(t.newLink,"color",e)},expression:"newLink.color"}}),n("br"),n("VSelect",{attrs:{placeholder:"Select line pattern"},model:{value:t.newLink.pattern,callback:function(e){t.$set(t.newLink,"pattern",e)},expression:"newLink.pattern"}},[n("option",{attrs:{value:"solid",selected:""}},[t._v("Solid")]),n("option",{attrs:{value:"dash"}},[t._v("Dash")]),n("option",{attrs:{value:"dot"}},[t._v("Dot")])]),n("br"),n("VSelect",{attrs:{placeholder:"Select arrow type"},model:{value:t.newLink.arrow,callback:function(e){t.$set(t.newLink,"arrow",e)},expression:"newLink.arrow"}},[n("option",{attrs:{value:"none"}},[t._v("none")]),n("option",{attrs:{value:"src"}},[t._v("One side(source)")]),n("option",{attrs:{value:"dest"}},[t._v("One side(destination)")]),n("option",{attrs:{value:"both"}},[t._v("Both side")])]),n("br"),n("VButton",{on:{click:t.ok}},[t._v("OK")]),n("VButton",{staticClass:"danger",on:{click:t.cancel}},[t._v("Cancel")])],1):t._e()])],1)},T=[],R={props:{isActive:Boolean,link:{type:Object,default:function(){return{id:"0",content:{color:"#ffeaa7",pattern:"solid",arrow:"none"}}}}},computed:{newLink:{get:function(){return this.link.content}}},methods:{ok:function(){this.$emit("ok",{id:this.link.id,content:{color:this.newLink.color,pattern:this.newLink.pattern,arrow:this.newLink.arrow}})},cancel:function(){this.$emit("cancel")}}},G=R,U=(n("167f"),k(G,W,T,!1,null,"4f1f2b82",null));U.options.__file="EditLinkModal.vue";var H=U.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VModal",{attrs:{isActive:t.isActive},on:{clickModal:t.cancel}},[n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tmp,expression:"tmp"}],staticClass:"input",attrs:{required:"",placeholder:"JSON"},domProps:{value:t.tmp},on:{input:function(e){e.target.composing||(t.tmp=e.target.value)}}}),n("br"),n("VButton",{on:{click:t.ok}},[t._v("OK")]),n("VButton",{staticClass:"danger",on:{click:t.cancel}},[t._v("Cancel")])],1)])},q=[],K={props:{isActive:Boolean,text:String},watch:{text:function(t){this.tmp=t}},data:function(){return{tmp:""}},methods:{ok:function(){this.$emit("ok",{text:this.tmp})},cancel:function(){this.$emit("cancel")}}},Y=K,z=(n("2a3c"),k(Y,X,q,!1,null,"361eba4c",null));z.options.__file="InputModal.vue";var J=z.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VModal",{attrs:{isActive:t.isActive},on:{clickModal:t.cancel}},[n("transition",{attrs:{name:"item"}},[n("div",{staticClass:"block"},[n("div",{staticClass:"inner-block"},[t._t("default")],2),n("VButton",{on:{click:t.ok}},[t._v("OK")]),n("VButton",{staticClass:"danger",on:{click:t.cancel}},[t._v("Cancel")])],1)])],1)},Z=[],$={props:{isActive:Boolean},methods:{ok:function(){this.$emit("ok",!0)},cancel:function(){this.$emit("cancel")}}},tt=$,et=(n("a12f"),k(tt,Q,Z,!1,null,"aa2e890c",null));et.options.__file="AskModal.vue";var nt=et.exports,it={name:"DiagramEditor",components:{Diagram:C,EditNodeModal:F,EditLinkModal:H,InputModal:J,AskModal:nt},props:{value:{type:Object,default:function(){return{width:2e3,height:1e3,background:"#fafafa",labels:{edit:"Edit",remove:"Remove",link:"New Link",select:"Select",copy:"Copy"},nodes:[],links:[]}}}},computed:{graphData:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},data:function(){return{name:"",url:"",color:"",json:"",scale:"1",isModalActive:!1,isEditModalActive:!1,isEditLinkModalActive:!1,isInputModalActive:!1,editable:!1,isFluid:!1,tmpNode:{id:"",shape:"rectangle",width:0,height:0,content:{text:"",url:"",color:""}},tmpLink:{id:"",content:{color:"",pattern:"solid",arrow:"none"}},showGrid:!1,isAskClearDiagram:!1}},methods:{clearDiagram:function(){this.graphData.nodes=[],this.graphData.links=[],this.isAskClearDiagram=!1},generateID:function(){return(new Date).getTime().toString(16)+Math.floor(1e6*Math.random()).toString(16)},openModal:function(){this.isModalActive=!0},cancel:function(){this.isModalActive=!1,this.isEditModalActive=!1,this.isEditLinkModalActive=!1,this.isInputModalActive=!1,this.isAskClearDiagram=!1},addNode:function(t){this.graphData.nodes.push({id:this.generateID(),content:{text:t.content.text,url:t.content.url,color:t.content.color},width:parseInt(t.width)||150,height:parseInt(t.height)||60,stroke:t.stroke,strokeWeight:t.strokeWeight,shape:t.shape,point:{x:10,y:100+100*Math.random()}}),this.isModalActive=!1},openNodeEdit:function(t){this.tmpNode.id=t.id,this.tmpNode.content.text=t.content.text,this.tmpNode.content.url=t.content.url,this.tmpNode.content.color=t.content.color,this.tmpNode.shape=t.shape,this.tmpNode.stroke=t.stroke,this.tmpNode.strokeWeight=t.strokeWeight,this.tmpNode.width=t.width,this.tmpNode.height=t.height,this.isModalActive=!1,this.isEditModalActive=!0},editNode:function(t){var e=this.graphData.nodes.find(function(e){return e.id===t.id});e.content.text=t.content.text,e.content.url=t.content.url,e.content.color=t.content.color,e.shape=t.shape,e.stroke=t.stroke,e.strokeWeight=t.strokeWeight,e.width=parseInt(t.width),e.height=parseInt(t.height),this.isEditModalActive=!1},openLinkEdit:function(t){this.tmpLink.id=t.id,this.tmpLink.content=Object.assign({},t.content),this.isEditLinkModalActive=!0},editLink:function(t){var e=this.graphData.links.find(function(e){return e.id===t.id});e.color=t.content.color,e.pattern=t.content.pattern,e.arrow=t.content.arrow,this.isEditLinkModalActive=!1},endEdit:function(){this.editable=!1},nodeChanged:function(t){this.graphData.nodes=t.nodes},linkChanged:function(t){this.graphData.links=t.links},openInputModal:function(){this.isInputModalActive=!0,this.json=JSON.stringify(this.graphData)},importData:function(t){var e=JSON.parse(t.text);e&&(this.graphData=e,this.isInputModalActive=!1)},downloadSVG:function(){var t=new Blob([document.getElementById("svg-diagram-show-area").innerHTML],{type:"image/svg+xml"}),e=window.URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download="image.svg",n.click()},changeGrid:function(t){this.graphData.background=t?"url(#grid)":"#eee"}}},ot=it,rt=k(ot,O,I,!1,null,null,null);rt.options.__file="DiagramEditor.vue";var st=rt.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{on:{click:t.onClick}},[t._t("default")],2)},ct=[],lt={name:"VButton",methods:{onClick:function(){this.$emit("click")}}},ut=lt,dt=(n("0802"),k(ut,at,ct,!1,null,"1f3ac946",null));dt.options.__file="VButton.vue";var ft=dt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"ckbox",attrs:{id:t.idCheckbox,type:"checkbox"},domProps:{checked:Array.isArray(t.val)?t._i(t.val,null)>-1:t.val},on:{change:[function(e){var n=t.val,i=e.target,o=!!i.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);i.checked?s<0&&(t.val=n.concat([r])):s>-1&&(t.val=n.slice(0,s).concat(n.slice(s+1)))}else t.val=o},t.onChange]}}),n("label",{attrs:{for:t.idCheckbox}},[t._t("default")],2)])},pt=[],vt={name:"VCkbox",props:{value:Boolean},data:function(){return{val:this.value}},computed:{idCheckbox:function(){return Math.floor(1e6*Math.random()).toString(16)}},methods:{onChange:function(){this.$emit("input",this.val),this.$emit("changed",this.val)}}},mt=vt,gt=(n("7be9"),k(mt,ht,pt,!1,null,"eea70b38",null));gt.options.__file="VCkbox.vue";var kt=gt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"checkbox"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.val)?t._i(t.val,null)>-1:t.val},on:{input:t.onInput,change:function(e){var n=t.val,i=e.target,o=!!i.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);i.checked?s<0&&(t.val=n.concat([r])):s>-1&&(t.val=n.slice(0,s).concat(n.slice(s+1)))}else t.val=o}}}):"radio"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],attrs:{type:"radio"},domProps:{checked:t._q(t.val,null)},on:{input:t.onInput,change:function(e){t.val=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],attrs:{type:t.type},domProps:{value:t.val},on:{input:[function(e){e.target.composing||(t.val=e.target.value)},t.onInput]}})},yt=[],xt={name:"VInput",props:{type:String,value:[String,Number]},data:function(){return{val:this.value}},methods:{onInput:function(){this.value!==this.val&&this.$emit("input",this.val)}}},wt=xt,_t=(n("caec"),k(wt,bt,yt,!1,null,"a3e9cb24",null));_t.options.__file="VInput.vue";var Nt=_t.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.dismiss?t._e():n("div",{attrs:{id:"message"}},[n("span",{staticClass:"dismiss",on:{click:function(e){t.dismiss=!0}}},[t._v("X")]),n("div",{attrs:{id:"content"}},[t._v(t._s(t.content))])])},St=[],Mt={name:"VMessage",props:{content:String},data:function(){return{dismiss:!1}}},Et=Mt,At=(n("e33f"),k(Et,Lt,St,!1,null,"eba7471e",null));At.options.__file="VMessage.vue";var Ct=At.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal",class:{"is-open":t.isActive},on:{click:t.clickModal}}),n("div",{staticClass:"item",class:{"is-open":t.isActive}},[t._t("default")],2)])},It=[],Dt={name:"VModal",props:{isActive:Boolean},methods:{clickModal:function(){this.$emit("clickModal")}}},Vt=Dt,jt=(n("a40f"),k(Vt,Ot,It,!1,null,"78678095",null));jt.options.__file="VModal.vue";var Pt=jt.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],attrs:{multiple:t.multiple},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.val=e.target.multiple?n:n[0]},t.onChange]}},[n("option",{staticClass:"placeholder",attrs:{disabled:""},domProps:{value:null}},[t._v("\n    "+t._s(t.placeholder)+"\n  ")]),t._t("default")],2)},Ft=[],Wt={name:"VSelect",props:{value:{type:[String,Number,Boolean,Object],default:null},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""}},computed:{val:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{onChange:function(){this.value!==this.val&&this.$emit("input",this.val)}}},Tt=Wt,Rt=(n("7fda"),k(Tt,Bt,Ft,!1,null,"2a8b2a97",null));Rt.options.__file="VSelect.vue";var Gt=Rt.exports,Ut={install:function(t){for(var e in o){var n=o[e];t.component(n.name,n)}}},Ht=Ut;s.a.use(Ht);var Xt=C;n.d(e,"Diagram",function(){return C}),n.d(e,"DiagramEditor",function(){return st});e["default"]=Xt},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}})});
//# sourceMappingURL=diagram.umd.min.js.map